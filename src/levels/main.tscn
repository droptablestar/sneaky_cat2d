[gd_scene format=3]

; External dependencies
[ext_resource type="PackedScene" path="res://src/player/Player.tscn" id="1_player"]
[ext_resource type="Script" path="res://src/levels/camera_follow.gd" id="2_camera_follow"]

; Physics resource for the floor collision (continuous across both rooms)
[sub_resource type="RectangleShape2D" id="RectangleShape2D_1"]
size = Vector2(2600, 40)

[node name="Main" type="Node2D"]

; === ROOM A visuals (x: -640..640, y: 0..720) ===
[node name="Wall_A" type="Polygon2D" parent="."]
z_index = -10
color = Color(0.22, 0.22, 0.22, 1.0)
polygon = PackedVector2Array(-640, 0, 640, 0, 640, 720, -640, 720)

[node name="FloorVisual_A" type="Polygon2D" parent="."]
z_index = -6
color = Color(0.30, 0.25, 0.20, 1.0)
polygon = PackedVector2Array(-640, 400, 640, 400, 640, 720, -640, 720)

; === ROOM B visuals (x: 640..1920, y: 0..720) ===
[node name="Wall_B" type="Polygon2D" parent="."]
z_index = -10
color = Color(0.22, 0.22, 0.22, 1.0)
polygon = PackedVector2Array(640, 0, 1920, 0, 1920, 720, 640, 720)

[node name="FloorVisual_B" type="Polygon2D" parent="."]
z_index = -6
color = Color(0.30, 0.25, 0.20, 1.0)
polygon = PackedVector2Array(640, 400, 1920, 400, 1920, 720, 640, 720)

; === Physics floor ===
[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(640, 400)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
shape = SubResource("RectangleShape2D_1")

; Player
[node name="Player" parent="." instance=ExtResource("1_player")]
position = Vector2(200, 300)

; Camera (follows player X)
[node name="Camera2D" type="Camera2D" parent="."]
current = true
position = Vector2(0, 360)
script = ExtResource("2_camera_follow")
target_path = NodePath("../Player")
fixed_y = 360.0
